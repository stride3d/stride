<!-- Build file pre-included by all Stride projects -->
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <!-- Properties for debugging unit tests -->
  <PropertyGroup>
    <!-- Set this property to 'true' so that a RenderDoc capture is created for graphics
         tests that fail. This has no effect on non-graphics tests -->
    <StrideCaptureRenderDocOnFailedTest></StrideCaptureRenderDocOnFailedTest>

    <!-- By default, on Windows + Debug, we enable RenderDoc captures, unless disabled -->
    <StrideCaptureRenderDocOnFailedTest
      Condition="'$(StrideCaptureRenderDocOnFailedTest)' == '' AND
                 '$(Configuration)' == 'Debug' AND
                 '$(StridePlatform)' == 'Windows'">true</StrideCaptureRenderDocOnFailedTest>


    <DefineConstants Condition="'$(StrideCaptureRenderDocOnFailedTest)' == 'true'">
      STRIDE_TESTS_CAPTURE_RENDERDOC_ON_ERROR;
      $(DefineConstants)
    </DefineConstants>
  </PropertyGroup>

</Project>
